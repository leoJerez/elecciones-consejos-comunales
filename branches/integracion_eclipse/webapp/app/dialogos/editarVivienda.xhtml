<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

	<p:dialog widgetVar="editarVivienda" modal="true" closable="true"
		header="Actualizar datos de la vivienda" position="top"
		style="height: auto !important">
		<p:panel id="pnlEditarVivienda"
			style="width: 100%;height: auto;margin-top: -3%;margin-left: -0.62%;border: 0px;">
			<p:panel id="contenidoEditar"
				style="margin-top: 6%;height: auto;width: 65vw;margin-left: 1%;border: 1px solid;">
				<div style="width: 50%; float: left;">
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:outputLabel value="Nro Casa:"
							style="font-family: Georgia,serif; font-size: 1.3em;margin-left: 4%;" />
						<p:inputText
							value="#{viviendaViewBean.viviendaSelected.numeroCasa}"
							style="margin-left: 15%;" />
					</div>
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:outputLabel value="Nombre Casa:"
							style="font-family: Georgia,serif; font-size: 1.3em; margin-left: 4%;" />
						<p:inputText
							value="#{viviendaViewBean.viviendaSelected.nombreCasa}"
							style="margin-left: 4%;" />
					</div>
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:outputLabel value="Calle:"
							style="font-family: Georgia,serif;font-size: 1.3em;margin-left: 4%;" />
						<p:inputText value="#{viviendaViewBean.viviendaSelected.calle}"
							style="margin-left: 25%;" />
					</div>
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:outputLabel value="Carrera:"
							style="font-family: Georgia,serif; font-size: 1.3em;margin-left: 4%;" />
						<p:inputText value="#{viviendaViewBean.viviendaSelected.carrera}"
							style="margin-left: 20%;" />
					</div>
				</div>
				<div style="width: 50%; float: left">
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:outputLabel value="Manzana:"
							style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
						<p:inputText value="#{viviendaViewBean.viviendaSelected.manzana}"
							style="margin-left: 25%;" />
					</div>
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:outputLabel value="Habitaciones:"
							style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
						<p:inputText
							value="#{viviendaViewBean.viviendaSelected.cantidadHabitaciones}"
							style="margin-left: 16%;" />
					</div>
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:outputLabel value="Cantidad de baños:"
							style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
						<p:inputText
							value="#{viviendaViewBean.viviendaSelected.cantidadBannos}"
							style="margin-left: 2%;" />
					</div>
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:outputLabel value="Poste cercano:"
							style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
						<p:inputText
							value="#{viviendaViewBean.viviendaSelected.codigoPosteCercano}"
							style="margin-left: 14%;" />
						<p:inputText
							value="#{viviendaViewBean.viviendaSelected.idVivienda}"
							style="margin-left: 14%; display: none" />
					</div>
					<div style="float: left; margin-top: 1%; width: 75%">
						<p:commandButton value="Vehiculo" icon="ui-icon-plus"
							actionListener="#{viviendaViewBean.cargarPanelVehiculo()}"
							update="datosVehiculo" style="margin-top: 4%;margin-left: 67%;" />
					</div>
				</div>
				<div
					style="float: left; align-content: center; width: 100%; margin-top: 2%;">
					<p:outputLabel value="Datos de Vehiculo:"
						style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
					<p:panel id="datosVehiculo"
						visible="#{viviendaViewBean.agregarVehiculo}"
						style="width: 80%;margin-left: 12%;">
						<div
							style="width: 100%; align-content: center; margin-left: 6%; margin-top: 1%; height: 5vw">
							<div style="width: 17%; float: left">
								<p:outputLabel value="Placa:"
									style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
								<p:inputText value="#{viviendaViewBean.nuevoVehiculo.placa}"
									style="margin-left: 14%;width: 80%;" />
							</div>
							<div style="width: 17%; float: left">
								<p:outputLabel value="Marca:"
									style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
								<p:inputText value="#{viviendaViewBean.nuevoVehiculo.marca}"
									style="margin-left: 14%;width: 80%;" />
							</div>
							<div style="width: 17%; float: left">
								<p:outputLabel value="Modelo:"
									style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
								<p:inputText value="#{viviendaViewBean.nuevoVehiculo.modelo}"
									style="margin-left: 14%;width: 80%;" />
							</div>
							<div style="width: 17%; float: left">
								<p:outputLabel value="Año:"
									style="font-family: Georgia,serif; font-size: 1.3em;margin-left: -5%;" />
								<p:inputText value="#{viviendaViewBean.nuevoVehiculo.anno}"
									style="margin-left: 14%;width: 80%;" />
							</div>
							<div style="width: 17%; float: left">
								<p:commandButton value="Agregar" icon="ui-icon-check"
									update=":formVivienda:pnlEditarVivienda"
									actionListener="#{viviendaViewBean.agregarVehiculo()}"
									style="margin-top: 23%;" />
							</div>
						</div>
					</p:panel>
					<div
						style="width: 94%; align-content: center; margin-left: 6%; margin-top: 1%;">
						<p:dataTable id="listaVehiculos"
							value="#{viviendaViewBean.listaDeVehiculosEditar}"
							var="vehiculo" style="width: 90%; margin-top: 1%;" scrollable="true" scrollHeight="150">
							<p:column headerText="Marca">
								<p:outputLabel value="#{vehiculo.marca}" />
							</p:column>
							<p:column headerText="Modelo">
								<p:outputLabel value="#{vehiculo.modelo}" />
							</p:column>
							<p:column headerText="Placa">
								<p:outputLabel value="#{vehiculo.placa}" />
							</p:column>
							<p:column headerText="Año">
								<p:outputLabel value="#{vehiculo.anno}" />
							</p:column>
							<p:column headerText="Operaciones">
								<p:commandButton title="Eliminar"
									action="#{viviendaViewBean.eliminarVehiculo(vehiculo)}"
									icon="ui-icon-trash">
									<p:confirm header="Confirmar Acción"
										message="¿Seguro que desea eliminar el vehiculo?"
										icon="ui-icon-alert" />
								</p:commandButton>
							</p:column>
						</p:dataTable>
						<p:confirmDialog global="true" showEffect="fade"
							hideEffect="explode">
							<p:commandButton value="Si" styleClass="ui-confirmdialog-yes"
								icon="ui-icon-check" style="margin-left: 28%;" update="growl" />
							<p:commandButton value="No" styleClass="ui-confirmdialog-no"
								icon="ui-icon-close" />
						</p:confirmDialog>
					</div>
				</div>
				<div
					style="float: left; align-content: center; width: 100%; margin-top: 2%;">
					<p:commandButton value="Finalizar" oncomplete="PF('editarVivienda')"
						actionListener="#{viviendaViewBean.editarVivienda(viviendaViewBean.viviendaSelected)}"
						update="formVivienda" style="margin-top: 4%;margin-left: 61%;" />
					<p:commandButton value="Cancelar" update="listaPrueba"
						oncomplete="PF('editarVivienda').hide()" style="margin-top: 4%;" />
				</div>

			</p:panel>
		</p:panel>
	</p:dialog>
</ui:composition>