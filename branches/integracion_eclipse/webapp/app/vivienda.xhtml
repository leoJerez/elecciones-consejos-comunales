<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/structural/template.xhtml"
	xmlns:p="http://primefaces.org/ui" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
	<ui:define name="content">
		<h:form id="formVivienda">
			<p:growl id="growl" showDetail="true" sticky="true" />
			<p:panel id="pnlInformacionVivienda"
				style="width: 130.8%;height: 107.78%;margin-top: -3%;margin-left: -0.62%;border: 0px;">
				<p:outputLabel value="Registro de Vivienda"
					style="font-size: 3em;margin-left: 26%;" />
				<p:panel id="contenido"
					style="margin-top: 2%; height: 10vw; width: 65vw;margin-left: 16%;">
					<p:outputLabel value="Nro Casa:"
						style="font-family: Georgia,serif; font-size: 1.3em;" />
					<p:inputText value="#{viviendaViewBean.newVivienda.numeroCasa}"
						style="margin-left: 1.1%;" />
					<p:outputLabel value="Nombre Casa:"
						style="font-family: Georgia,serif; font-size: 1.3em; margin-left: 2%;" />
					<p:inputText value="#{viviendaViewBean.newVivienda.nombreCasa}"
						style="margin-left: 1%;" />
					<p:outputLabel value="Calle:"
						style="font-family: Georgia,serif; font-size: 1.3em; margin-left: 2%;" />
					<p:inputText value="#{viviendaViewBean.newVivienda.calle}"
						style="margin-left: 1%;" />
					<p:outputLabel value="Carrera:"
						style="font-family: Georgia,serif; font-size: 1.3em;" />
					<p:inputText value="#{viviendaViewBean.newVivienda.carrera}"
						style="margin-left: 2.5%; margin-top: 2%;" />
					<p:outputLabel value="Manzana:"
						style="font-family: Georgia,serif; font-size: 1.3em;margin-left: 2%;" />
					<p:inputText value="#{viviendaViewBean.newVivienda.manzana}"
						style="margin-left: 4.7%;" />
					<p:outputLabel value="Habitaciones:"
						style="font-family: Georgia,serif; font-size: 1.3em; margin-left: 2%;" />
					<p:inputText
						value="#{viviendaViewBean.newVivienda.cantidadHabitaciones}"
						style="margin-left: 1%;width: 13.43%;">
						<pe:keyFilter regEx="/[0-9]/i" />
					</p:inputText>
					<p:outputLabel value="Cantidad de baños:"
						style="font-family: Georgia,serif; font-size: 1.3em;" />
					<p:inputText value="#{viviendaViewBean.newVivienda.cantidadBannos}"
						style="margin-left: 1%; width: 12.4%; margin-top: 2%;">
						<pe:keyFilter regEx="/[0-9]/i" />
					</p:inputText>
					<p:outputLabel value="Poste cercano:"
						style="font-family: Georgia,serif; font-size: 1.3em; margin-left: 2%;" />
					<p:inputText
						value="#{viviendaViewBean.newVivienda.codigoPosteCercano}"
						style="margin-left: 0.8%;" />
					<p:commandButton value="Guardar"
						actionListener="#{viviendaViewBean.guardarVivienda()}"
						update="listaPrueba" style="margin-left: 2%;" />
				</p:panel>
				<p:dataTable id="listaPrueba"
					value="#{viviendaViewBean.listaDeViviendas}" var="vivienda"
					style="width: 35%; margin-left: 22.5%; margin-top: 1%;">
					<p:column headerText="Nro Casa">
						<p:outputLabel value="#{vivienda.numeroCasa}" />
					</p:column>
					<p:column headerText="Nombre de Casa">
						<p:outputLabel value="#{vivienda.nombreCasa}" />
					</p:column>
					<p:column headerText="Manzana">
						<p:outputLabel value="#{vivienda.manzana}" />
					</p:column>
					<p:column headerText="Calle">
						<p:outputLabel value="#{vivienda.calle}" />
					</p:column>
					<p:column headerText="Operaciones">
						<p:commandButton title="Editar" icon="ui-icon-pencil"
							actionListener="#{viviendaViewBean.desplegarDialogoEditar(vivienda)}"
							update=":formVivienda:pnlEditarVivienda" >
						</p:commandButton>
						<p:commandButton title="Eliminar"
							action="#{viviendaViewBean.eliminarVivienda(vivienda)}"
							icon="ui-icon-trash">
							<p:confirm header="Confirmar Acción"
								message="Estas Seguro que desea eliminar la vivienda?"
								icon="ui-icon-alert" />
						</p:commandButton>
					</p:column>
				</p:dataTable>
				<p:confirmDialog global="true" showEffect="fade"
					hideEffect="explode">
					<p:commandButton value="Si" type="button"
						styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
						style="margin-left: 28%;" update="growl" />
					<p:commandButton value="No" type="button"
						styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				</p:confirmDialog>
			</p:panel>
			<ui:include src="../app/dialogos/editarVivienda.xhtml" />
		</h:form>
	</ui:define>
</ui:composition>